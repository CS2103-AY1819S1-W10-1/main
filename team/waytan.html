<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Way Tan - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level3">AB-3</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">AddressBook-Level4</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/se-edu/addressbook-level4"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Way Tan - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-thetracker-v1-4"><a class="link" href="#project-thetracker-v1-4">PROJECT: TheTracker (v1.4)</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This Project Portfolio details my contributions to TheTracker.
It demonstrates my ability to contribute as a team member of a software engineering project in both technical and non-technical ways.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: <strong>Improved <code>delete</code> function to properly delete any type of entry</strong></p>
<div class="ulist">
<ul>
<li>
<p>Description: Allows the user to delete a person, module or occasion by index. It also removes this entry from all other linked entries.</p>
</li>
<li>
<p>Design Decisions: In implementing the feature, I decided to incorporate the following:</p>
<div class="ulist">
<ul>
<li>
<p>Inferred Deletion: The deletion will be applied to the currently active list.</p>
</li>
<li>
<p>Deep Deletion: The deletion will automatically all references to this entry (i.e. from other entries' lists)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Justification for Inferred Deletion:</p>
<div class="ulist">
<ul>
<li>
<p><strong>User will not have to type <code>deleteperson</code>,<code>deletemodule</code>, <code>deleteoccasion</code> in full.</strong>
It would feel unnecessary for a user to type <code>deleteperson</code> when viewing the person list, for example.</p>
</li>
<li>
<p><strong>User will not be allowed to delete from an inactive list.</strong>
This ensures that the user will not perform a deletion by accident from the wrong list.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Justification for Deep Deletion:</p>
<div class="ulist">
<ul>
<li>
<p><strong>User will not have to manually remove an entry from all associated lists.</strong>
If an entry is linked to many other entries, this would save a significant amount of time.</p>
</li>
<li>
<p><strong>User will not be misled that a deleted entry is still in TheTracker.</strong>
A user would be confused if a deleted module is still found in the module list of some people.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Highlights: This implementation was noteworthy for several reasons:</p>
<div class="ulist">
<ul>
<li>
<p>Inferred Deletion required the maintenance of an <code>activeType</code> variable in the model,
which was accessible by the Logic and UI (via Logic) units.<br>
Slight amendments were needed in the list command and several UI methods.<br>
This was also useful in implementing the <code>select</code> command.</p>
</li>
<li>
<p>Deep Deletion required the writing of methods that selectively mutates entries in a list.<br>
A functional approach was adopted, with <code>Streams</code>, <code>Optionals</code> and <code>Consumers</code> being used to implement this.<br>
Additionally, the <code>makeShallowDuplicate</code> was written to create shallow copies without losing information.<br>
These were useful in implementing the <code>edit</code>, <code>insertperson</code> and <code>removeperson</code> commands.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: Implemented the <code>select</code> feature</p>
<div class="ulist">
<ul>
<li>
<p>Description: Allows the user to select an entry from the active list, and view additional info</p>
</li>
<li>
<p>Importance: The implementation is symmetric across all 3 lists, so that the user does not need to use different commands for different lists.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code Contributed</strong>: <a href="https://nus-cs2103-ay1819s1.github.io/cs2103-dashboard/#=undefined&amp;search=waytan">Link to Code Contributions</a></p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Conceptualization:</p>
<div class="ulist">
<ul>
<li>
<p>Suggested context-inferring commands (e.g. <code>select</code>, <code>delete</code> instead of <code>selectmodule, `deletemodule</code>)</p>
</li>
<li>
<p>Suggested implementing <code>insertperson</code> and <code>removeperson</code> to link persons with modules/occasions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Involved in distributing roles and consolidating tasks</p>
</li>
<li>
<p>Manage Issue Tracker for v1.3, v1.4</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments): <a href="https://github.com/CS2103-AY1819S1-W10-1/main/pull/81">#81</a>, <a href="https://github.com/CS2103-AY1819S1-W10-1/main/pull/87">#87</a></p>
</li>
<li>
<p>Methods written for implementation of deep deletion were adapted for edit and removeModule.</p>
</li>
<li>
<p>Set up test utils for modules and occasions: <a href="https://github.com/CS2103-AY1819S1-W10-1/main/pull/97">#97</a>, <a href="https://github.com/CS2103-AY1819S1-W10-1/main/pull/109">#109</a></p>
</li>
<li>
<p>Helped in identifying bugs and offered suggestions for debugging</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote user stories, use cases for v1.0</p>
</li>
<li>
<p>Updated description of user guide to match application design</p>
</li>
</ul>
</div>
</li>
<li>
<p>Key Code Components</p>
<div class="ulist">
<ul>
<li>
<p>Set up <code>Module</code> class and its associated fields/exceptions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="gui-components"><a class="link" href="#gui-components">GUI Components</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section explains the components of the GUI, along with some ways you can interact with it.</p>
</div>
<div class="sect2">
<h3 id="layout"><a class="link" href="#layout">Layout</a></h3>
<div class="paragraph">
<p>TheTracker&#8217;s GUI is divided into 5 main regions that you will interact with:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/GUIComponents.png" alt="GUIComponents" width="600">
</div>
<div class="title">Figure 1. TheTracker&#8217;s GUI</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Menu Bar: contains simple commands to switch between windows</p>
</li>
<li>
<p>Command Box: text box (equipped with auto-suggestions) to receive input commands</p>
</li>
<li>
<p>Result Display: panel that displays the result of inputted commands</p>
</li>
<li>
<p>List Panel: panel displaying all saved persons/modules/occasions</p>
</li>
<li>
<p>Info Panel: panel displaying additional information for selected entry</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="using-the-gui"><a class="link" href="#using-the-gui">Using the GUI</a></h3>
<div class="ulist">
<ul>
<li>
<p>Switching between person, module and occasion lists can be done from the Menu Bar by clicking on the desired type,
followed by "Show Persons/Modules/Occasions". You can also view these using the <code>listperson</code>, <code>listmodule</code> and <code>listoccasion</code> commands in the Command Box.</p>
</li>
<li>
<p>Clicking on an entry in the List Panel <strong>selects</strong> the entry. This allows you to see its additional info in the Info Panel.
Selecting an entry can also be done by using the <code>select</code> command in the Command Box.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="types-of-entries"><a class="link" href="#types-of-entries">Types of Entries</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section explains the three types of entries - person, module and occasion.<br>
Each of them contains a compulsory field, optional fields, optional tags and relevant lists as explained below.</p>
</div>
<div class="sect2">
<h3 id="shared-tags"><a class="link" href="#shared-tags">Shared: Tags</a></h3>
<div class="paragraph">
<p>All three types of entries contain the following fields:</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><strong>Tags</strong> - One or more alphanumeric strings (A-Z, 0-9), with no limit on length.<br>
Note: An entry can have 0 or any positive number of tags.<br>
Valid: <code>Friend, CS2103, Must RSVP</code><br>
Invalid: <code>Buddy!, CS2103:(, 25/12/2018</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="person"><a class="link" href="#person">Person</a></h3>
<div class="paragraph">
<p>A <strong>Person</strong> has the following fields:</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong> (compulsory) - One or more alphanumeric strings, with no limit on length.<br>
Valid: <code>Ashwin Raj, Damith Rajapakse, Bob12345</code><br>
Invalid: <code>Ashwin Raj S/O Yadav, Damith C. Rajapakse, Bob12345!!!</code></p>
</li>
<li>
<p><strong>Phone Number</strong> - 3 or more digits (0-9), with no limit on length.<br>
Valid: <code>999, 1800123456, 659192939495</code><br>
Invalid: <code>9, 1800 123456, +659192939495</code></p>
</li>
<li>
<p><strong>Email</strong> - A single string with an @ character in between the username and domain name.<br>
Username can contain the following special characters: <code>!#$%&amp;'*+/=?{|}~^.-</code><br>
Domain name should be at least 3 letters long.<br>
Valid: <code>alex@abc, <a href="mailto:bob123@xyz.com">bob123@xyz.com</a>, example!<a href="mailto:123@nus.edu.sg">123@nus.edu.sg</a></code><br>
Invalid: <code>alex, bob@co, example@<a href="mailto:123@nus.edu.sg">123@nus.edu.sg</a></code></p>
</li>
<li>
<p><strong>Address</strong> - Any non-blank input, with no limit on length.<br>
Valid: <code>NIL, Singapore, 123 Clementi Ave 999 S(654123)</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>A person will also have a <strong>module list</strong> and <strong>occasion list</strong>. These are comprised of modules and occasions that <strong>are currently</strong> in the address book.<br>
These lists will be initialized as empty until modules or occasions are added.</p>
</div>
<div class="paragraph">
<p>Warning: Persons with the same name are permitted as long as they have a <strong>different phone number or email address</strong>.<br>
Use with caution, as they may be difficult to distinguish (e.g. in a module&#8217;s registration list).</p>
</div>
</div>
<div class="sect2">
<h3 id="module"><a class="link" href="#module">Module</a></h3>
<div class="paragraph">
<p>A <strong>Module</strong> has the following fields:</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><strong>Module Code</strong> (compulsory) - 2 or 3 letters, followed by 4 digits and an optional letter behind.<br>
Note: Does not check whether the module is an actual NUS module.<br>
Valid: <code>CS2103, CS2103T, GER1001</code><br>
Invalid: <code>CS210, CS2103AB, GER10000</code></p>
</li>
<li>
<p><strong>Module Title</strong> - One or more alphanumeric strings, with no limit on length.<br>
Note: Does not check whether the module title matches the module code.<br>
Valid: <code>Software Engineering, Programming Methodology, A very annoying module</code><br>
Invalid: <code>Software Engineering!, Object-Oriented Design, ARGH:o</code></p>
</li>
<li>
<p><strong>Academic Year</strong> - 4 digit number, with the first and last 2 numbers representing consecutive years.<br>
Valid: <code>1819, 9900, 0001, 0304</code><br>
Invalid: <code>123, AY1819, 18/19, 2018</code></p>
</li>
<li>
<p><strong>Semester</strong> - 1 digit number between 1 and 4.<br>
Remark: Semesters 3 and 4 are used to refer to Special Term I and II.<br>
Valid: <code>1, 2, 3, 4</code><br>
Invalid: <code>Sem 1, 01, 1819/1</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>A module will also have a <strong>person list</strong>. This will be consistent with the persons in the list
(i.e. the module will appear in their module lists).</p>
</div>
<div class="paragraph">
<p>Warning: Modules with the same code are permitted as long as they have a <strong>different academic year or semester</strong>.<br>
Use with caution, as they may be difficult to distinguish (e.g. in a person&#8217;s module list).</p>
</div>
</div>
<div class="sect2">
<h3 id="occasion"><a class="link" href="#occasion">Occasion</a></h3>
<div class="paragraph">
<p>An <strong>Occasion</strong> has the following features:</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><strong>Occasion Name</strong> (compulsory) - One or more alphanumeric strings, with no limit on length.<br>
Valid: <code>Project Discussion, CS2103 Exam, Recess Week</code><br>
Invalid: <code>Ad-hoc Work, Meeting**, Friend&#8217;s Birthday</code></p>
</li>
<li>
<p><strong>Occasion Date</strong> - Date in YYYY-MM-DD format.<br>
Remark: Checks whether date is valid.<br>
Valid: <code>2018-11-13, 2000-02-29, 2010-10-31</code><br>
Invalid: <code>2018/11/13, 2001-02-29, 2010-09-31</code></p>
</li>
<li>
<p><strong>Occasion Location</strong> - One or more alphanumeric strings, with no limit on length.<br>
Valid: <code>Home, NUS COM1, 123 Clementi Rd</code><br>
Invalid: <code>John&#8217;s Home, NUS COM1 02-18, 123 Clementi Rd S(654123)</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>An occasion will also have a <strong>person list</strong>. This will be consistent with the persons in the list
(i.e. the occasion will appear in their occasion lists).</p>
</div>
<div class="paragraph">
<p>Warning: Occasions with the same name are permitted as long as they have a <strong>different date</strong>.<br>
Use with caution, as they may be difficult to distinguish (e.g. in a person&#8217;s occasion list).</p>
</div>
</div>
<div class="sect2">
<h3 id="deleting-an-entry-code-delete-code"><a class="link" href="#deleting-an-entry-code-delete-code">Deleting an entry: <code>delete</code></a></h3>
<div class="paragraph">
<p>A command to allow the user to delete the specified entry from the active list in TheTracker.<br>
Format: <code>delete INDEX</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Deletes the entry at the specified <code>INDEX</code> shown. The index refers to the index number shown in the List Panel.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong>: 1, 2, 3, &#8230;&#8203;</p>
</li>
<li>
<p>The specified entry will be removed from all linked entries. For example, a deleted person will be removed from the student list of all modules.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>listperson</code><br>
<code>delete 1</code><br>
Deletes the 1st person in TheTracker.</p>
</li>
<li>
<p><code>listmodule</code><br>
<code>findmodule sem/1</code><br>
<code>delete 2</code><br>
Deletes the 2nd module of the <code>find</code> command.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="selecting-an-entry-code-select-code"><a class="link" href="#selecting-an-entry-code-select-code">Selecting an Entry: <code>select</code></a></h3>
<div class="paragraph">
<p>A command to allow the user to select the event identified by the index number in the List Panel.
The Info Panel will display the additional information for that entry.</p>
</div>
<div class="paragraph">
<p>Format: <code>select INDEX</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
On startup, no entry should be selected. Entries will not be deselected until another entry is selected.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-implementation-of-dependencies"><a class="link" href="#aspect-implementation-of-dependencies">Aspect: Implementation of Dependencies</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Have 3 separate classes for Person, Module and Occasion<br></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Each class can be designed specifically to accommodate suitable fields</p>
</li>
<li>
<p>Cons: Some code duplication in similar methods</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Have a parent <code>Entity</code> class, with all three classes inheriting from it</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Polymorphism can be implemented for similar methods</p>
</li>
<li>
<p>Cons: Difficulty in implementation, (e.g. <code>UniqueEntityList</code> must be implemented in the model
and <code>EntityCard</code>, <code>EntityListPanel</code> in the UI).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Decision:</strong> Alternative 1 was adopted, as the 3 classes do not have the exact same features.
For example, a <code>Person</code> has 2 separate lists of Modules and Occasions respectively,
but a <code>Module</code> or <code>Occasion</code> only contains a Person list.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Updating-Lists"><a class="link" href="#Updating-Lists">Updating of Lists</a></h3>
<div class="paragraph">
<p>When executing commands for a particular type of entry, <em>another</em> type of entry can modified.</p>
</div>
<div class="paragraph">
<p>Naturally, <code>insertperson</code> and <code>removeperson</code> will affect a person and a module/occasion.<br>
However, both <code>edit</code> and <code>delete</code> also can affect multiple types of entries.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If an entry is edited, all linked entries should reflect the changes accordingly.</p>
</li>
<li>
<p>If an entry is deleted, all linked entries should remove this entry from their list.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="paragraph">
<p>To facilitate the execution of <code>undo</code> and <code>redo</code>, a new replacement person, module or occasion is created
to replace the original entry. By avoiding modification of these entries, previous versions of
the <code>ReadOnlyAddressBook</code> will not be incorrectly modified.</p>
</div>
<div class="paragraph">
<p>Currently, a list only stores a <strong>copy</strong> of the desired entries, instead of the actual entries.</p>
</div>
<div class="paragraph">
<p>Suppose that a person needs to be edited/deleted. Then correctly implementing any of these commands requires 3 stages:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Locate all linked modules and occasions</p>
</li>
<li>
<p>Replace each module and occasion with an updated version</p>
</li>
<li>
<p>Edit/Delete the person</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Methods for the implementation of 1 and 2 are contained in the <code>AttendanceListUtil</code> class.<br>
The code snippets below are extracted with slight modifications,
and are used to perform 1 and 2 by updating the person lists in modules after deleting a <code>Person</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">while</span> (moduleListIterator.hasNext()) {
    Module module = moduleListIterator.next();
    module.getStudents()
            .asNormalList()
            .stream()
            .filter(person -&gt; person.isSamePerson(personToRemove))
            .findFirst()
            .ifPresent(removePersonFromModule(model, module));
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The above loop iterates through all modules.</p>
</li>
<li>
<p>For each module, it filters through its studentList to determine whether it should be edited.</p>
</li>
<li>
<p>If so, the person is removed from the module.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="directive">static</span> Consumer&lt;Person&gt; removePersonFromModule(Model model, Module module) {
    <span class="keyword">return</span> person -&gt; {
        <span class="predefined-type">List</span>&lt;Person&gt; updatedPersons = module.getStudents().makeShallowDuplicate().asNormalList();
        updatedPersons.remove(person);
        UniquePersonList updatedPersonList = <span class="keyword">new</span> UniquePersonList(updatedPersons);
        ModuleDescriptor updatedModuleDescriptor = <span class="keyword">new</span> ModuleDescriptor();
        updatedModuleDescriptor.setStudents(updatedPersonList);
        Module updatedModule = Module.createEditedModule(module, updatedModuleDescriptor);
        model.updateModule(module, updatedModule);
    };
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>In turn, removing a person from a module is done by creating a new list of persons, excluding the one pending deletion.</p>
</li>
<li>
<p>A new module is then created based on the original module and this new list.</p>
</li>
<li>
<p>Finally, the new module replaces the original module in the model.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Similar implementations are used for both <code>delete</code> and <code>edit</code> in the various combinations of entries and lists.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="delete"><a class="link" href="#delete">Delete</a></h3>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">Current Implementation</a></h4>
<div class="paragraph">
<p>The <code>delete</code> command will delete a <code>Person</code>, <code>Module</code> or <code>Occasion</code>.
Similar to other commands, a new <code>ReadOnlyAddressBook</code> is created upon the execution of this command.<br>
It can then be accessed within the <code>VersionedAddressBook</code> when executing <code>undo</code> or <code>redo</code>.</p>
</div>
<div class="paragraph">
<p>The sequence diagram below (reproduced from <a href="#Design-Logic">[Design-Logic]</a>) shows that
the high-level implementation is similar to the earlier commands.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeletePersonSdForLogic.png" alt="DeletePersonSdForLogic" width="800">
</div>
</div>
<div class="paragraph">
<p>However, the current implementation also allows for 2 useful functionalities in this feature:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Inferred Deletion: As we maintain the active type, the deletion will be applied to the currently active list.</p>
</li>
<li>
<p>Deep Deletion: By updating the associated lists, all references to this entry can be removed (i.e. from other entries' lists).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following activity diagram gives a broad overview of the deletion process:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeleteActivityDiagram.png" alt="DeleteActivityDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>In performing deep deletion, almost all "related" objects are copied.<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeleteDeleteCommandStateListDiagram.png" alt="DeleteDeleteCommandStateListDiagram" width="500">
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>For example, suppose TheTracker is initialised in the following manner:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>2 Persons <code>p1</code>, <code>p2</code> and 2 Modules <code>m1</code>, <code>m2</code> are created</p>
</li>
<li>
<p><code>p1</code> is inserted into <code>m1</code>, <code>m2</code></p>
</li>
<li>
<p><code>p2</code> is inserted into <code>m1</code></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeleteSequenceDiagram.png" alt="DeleteSequenceDiagram" width="500">
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The current object diagram can be drawn as follows (unnecessary fields omitted):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeepDeletionObjectDiagramBefore.png" alt="DeepDeletionObjectDiagramBefore" width="500">
</div>
</div>
<div class="paragraph">
<p>After deleting <code>p1</code>, the new object diagram will be:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeepDeletionObjectDiagramAfter.png" alt="DeepDeletionObjectDiagramAfter" width="500">
</div>
</div>
<div class="paragraph">
<p>Notice that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>p1</code> and its <code>UniqueModuleList</code> is deleted</p>
</li>
<li>
<p><code>p2</code> is not affected</p>
</li>
<li>
<p>A <strong>new</strong> version of <code>m1</code> is created.
It has a new <code>UniquePersonList</code>, which contains a new <strong>copy</strong> of <code>p2</code> (copied from <code>p2Copy1</code>)</p>
</li>
<li>
<p>A <strong>new</strong> version of <code>m2</code> is created.
It has a new <code>UniquePersonList</code> which is empty.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-explicit-implicit-deletion"><a class="link" href="#aspect-explicit-implicit-deletion">Aspect: Explicit/Implicit Deletion</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (Current Implementation):</strong> Check the active type from the model, and delete from the list.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>User can use <code>delete</code> instead of typing <code>deleteperson</code>, <code>deletemodule</code> or <code>deleteoccasion</code> in full.</p>
</li>
<li>
<p>User is explicitly prevented from deleting entries from an inactive list</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Harder to implement.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 :</strong> 3 commands <code>deleteperson</code>, <code>deletemodule</code> and <code>deleteoccasion</code> to delete from the respective list.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Easier to implement</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>User may delete from the wrong list without realising</p>
</li>
<li>
<p>Inconvenient for user to type out full command</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-deletion-by-index-fields"><a class="link" href="#aspect-deletion-by-index-fields">Aspect: Deletion by Index/Fields</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (Current Implementation):</strong> Delete entries by index</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>User can easily identify the index from the List Panel</p>
</li>
<li>
<p>User can use the same command for all 3 lists</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>User needs to user a <code>find</code> command first if he cannot find the entry</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Delete entries by field (e.g. delete n/john)</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>User can find an entry and delete them currently</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Have to decide what to do if multiple entries satisfying the condition are found</p>
</li>
<li>
<p>User has to remember prefixes in order to delete an entry</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-shallow-deep-deletion"><a class="link" href="#aspect-shallow-deep-deletion">Aspect: Shallow/Deep Deletion</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (Current Implementation):</strong> Deleted entry is removed from all linked entries</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>User can completely remove an entry from all mentions in TheTracker</p>
</li>
<li>
<p><code>removeperson</code> implementation does not need to check whether an entry still exists in the address book</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Difficult to implement</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Only allow entries that are not referenced to be deleted</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>User will not accidentally delete an entry that is used</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>User must manually use the <code>removePerson</code> command to eliminate all references</p>
</li>
<li>
<p>Difficult to implement</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3:</strong> Deleted entries can remain in all linked entries</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Easy to implement</p>
</li>
<li>
<p>User can keep archival information for an entry</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Very tedious to remove all mentions of an entry <strong>after</strong> it has been deleted</p>
</li>
<li>
<p>User may be misled that an entry still exists</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2018-11-12 15:13:34 UTC</div></div></div></body></html>